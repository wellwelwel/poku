"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[771],{2661:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>i,contentTitle:()=>c,default:()=>u,frontMatter:()=>r,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"examples/cases/complexity-no-exit","title":"Um Caso Complexo","description":"Imagine esses passos para realizar um teste:","source":"@site/i18n/pt-BR/docusaurus-plugin-content-docs/version-2.x.x/examples/cases/complexity-no-exit.mdx","sourceDirName":"examples/cases","slug":"/examples/cases/complexity-no-exit","permalink":"/pt-BR/docs/2.x.x/examples/cases/complexity-no-exit","draft":false,"unlisted":false,"editUrl":"https://github.com/wellwelwel/poku/tree/main/website/versioned_docs/version-2.x.x/examples/cases/complexity-no-exit.mdx","tags":[],"version":"2.x.x","frontMatter":{},"sidebar":"docs","previous":{"title":"Use Cases","permalink":"/pt-BR/docs/2.x.x/category/use-cases"},"next":{"title":"CJS and ESM","permalink":"/pt-BR/docs/2.x.x/examples/cjs-esm"}}');var o=n(4848),a=n(8453);const r={},c="Um Caso Complexo",i={},l=[{value:"Solu\xe7\xe3o do Poku \u2728",id:"solu\xe7\xe3o-do-poku-",level:3}];function d(e){const s={blockquote:"blockquote",code:"code",h1:"h1",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.header,{children:(0,o.jsx)(s.h1,{id:"um-caso-complexo",children:"Um Caso Complexo"})}),"\n",(0,o.jsx)(s.p,{children:(0,o.jsx)(s.strong,{children:"Imagine esses passos para realizar um teste:"})}),"\n",(0,o.jsxs)(s.ol,{children:["\n",(0,o.jsxs)(s.li,{children:["Execute a su\xedte de ",(0,o.jsx)(s.strong,{children:"Testes Unit\xe1rios"})," em paralelo"]}),"\n",(0,o.jsx)(s.li,{children:"Limpe e popule o banco de dados"}),"\n",(0,o.jsxs)(s.li,{children:["Verifique a su\xedte de ",(0,o.jsx)(s.strong,{children:"Integra\xe7\xe3o de Sucessos Esperados"})," sequencialmente"]}),"\n",(0,o.jsx)(s.li,{children:"Limpe e popule o banco de dados \u2014 novamente"}),"\n",(0,o.jsxs)(s.li,{children:["Verifique a su\xedte de ",(0,o.jsx)(s.strong,{children:"Integra\xe7\xe3o de Falhas Esperadas"})," sequencialmente"]}),"\n"]}),"\n",(0,o.jsx)(s.p,{children:(0,o.jsx)(s.strong,{children:"Requisitos:"})}),"\n",(0,o.jsx)(s.p,{children:"Cada passo requer sucesso para ser processado."}),"\n",(0,o.jsx)(s.p,{children:(0,o.jsx)(s.strong,{children:"Estrutura de Diret\xf3rios:"})}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-bash",children:"\u251c\u2500\u2500 .\n\u251c\u2500\u2500 test\n\u2502 \u251c\u2500\u2500 unit\n\u2502 \u251c\u2500\u2500 integration\n\u2502 \u2502 \u251c\u2500\u2500 successes\n\u2502 \u2502 \u2502 \u2514\u2500\u2500 **/.spec.js\n\u2502 \u2502 \u2514\u2500\u2500 failures\n\u2502 \u2502   \u2514\u2500\u2500 **/.spec.js\n\u2502 \u251c\u2500 run.test.js # O executor\n\u2502 \u251c\u2500 tools.test.js\n"})}),"\n",(0,o.jsxs)(s.blockquote,{children:["\n",(0,o.jsx)(s.p,{children:"N\xf3s realmente precisamos complicar ainda mais as coisas criando executores de testes avan\xe7ados para rodar nossos testes j\xe1 complexos? \ud83d\ude05"}),"\n"]}),"\n",(0,o.jsx)(s.h3,{id:"solu\xe7\xe3o-do-poku-",children:"Solu\xe7\xe3o do Poku \u2728"}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-ts",children:"import { poku, assert } from 'poku';\nimport { recreateDatabase } from './tools.test.js';\n\nconst unitCode = await poku('test/unit', {\n  parallel: true,\n  noExit: true,\n});\n\nassert.strictEqual(0, unitCode, 'Executando Testes Unit\xe1rios');\n\nawait assert.doesNotReject(\n  recreateDatabase(),\n  'Preparando o banco de dados para os Testes de Integra\xe7\xe3o de Sucessos'\n);\n\nconst successesCode = await poku('test/integration/successes', {\n  noExit: true,\n});\n\nassert.strictEqual(\n  0,\n  successesCode,\n  'Executando Testes de Integra\xe7\xe3o de Sucessos'\n);\n\nawait assert.doesNotReject(\n  recreateDatabase(),\n  'Preparando o banco de dados para os Testes de Integra\xe7\xe3o de Sucessos'\n);\n\nconst failuresCode = await poku('test/integration/failures', {\n  noExit: true,\n});\n\nassert.strictEqual(\n  0,\n  failuresCode,\n  'Executando Testes de Integra\xe7\xe3o de Falhas'\n);\n"})}),"\n",(0,o.jsxs)(s.blockquote,{children:["\n",(0,o.jsx)(s.p,{children:"Por qu\xea comentar o c\xf3digo se podemos fazer melhor? \ud83e\uddd9\ud83c\udffb"}),"\n"]}),"\n",(0,o.jsx)(s.p,{children:(0,o.jsx)(s.strong,{children:"Finalmente"})}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-bash",children:"npx poku test/run.test.js\n"})}),"\n",(0,o.jsxs)(s.blockquote,{children:["\n",(0,o.jsxs)(s.p,{children:["Ou ",(0,o.jsx)(s.code,{children:"npx poku test/run.test.ts"})," para ",(0,o.jsx)(s.strong,{children:"TypeScript"}),"."]}),"\n"]})]})}function u(e={}){const{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,o.jsx)(s,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>r,x:()=>c});var t=n(6540);const o={},a=t.createContext(o);function r(e){const s=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),t.createElement(a.Provider,{value:s},e.children)}}}]);